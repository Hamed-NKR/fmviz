<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>FMVIZ</title>
  <meta name="description" property="og:description"
    content="These visualizations examine the filtration properties of common face mask materials, using the data from Rogak et al.">
  <meta name="keywords" content="face mask, mask filtration, experiment, viz, COVID-19, science, aerosols, PPE">

  <meta name="title" property="og:title" content="FMVIZ: Face mask filtration">
  <meta name="image" property="og:image" content="imgs/00_fmviz_preview.png">
  <meta name="author" content="Timothy Sipkens">

  <link rel="icon" type="image/png" href="imgs/icon.png">

  <meta name="title" property="twitter:title" content="FMVIZ: Face mask filtration">
  <meta name="image" property="twitter:image" content="imgs/00_fmviz_preview.png">

  <!-- Load d3.js -->
  <script src="https://d3js.org/d3.v4.js"></script>

  <!-- Load fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400&family=Open+Sans:wght@300;400&family=Roboto:wght@300&display=swap" rel="stylesheet">
  <link href="index.css" rel="stylesheet">
</head>



<body>


  <div class="navbar-custom">
    <div id="navbar">
      <ul class="nav">
        <li><a href="https://arxiv.org/abs/2008.06001"><b style="font-family:Montserrat;font-size:11pt;color:black;">MASK FILTRATION</b>, Rogak et al.</a></li>
        <li><a href="#">Created by Timothy Sipkens</a></li>
      </ul>
    </div>
  </div>

  <!-- Pattern fill for the multilayer circles -->
  <svg height="0" width="0" xmlns="http://www.w3.org/2000/svg" version="1.1">
    <defs>
      <pattern id="diagonal-stripe-1" width="3" height="3" patternUnits="userSpaceOnUse" patternTransform="rotate(45)">
        <rect width="1" height="3" transform="translate(0,0)" fill="#CCCCCC"></rect>
        <rect width="2" height="3" transform="translate(1,0)" fill="#FBFBFB"></rect>
      </pattern>

      <pattern id="diagonal-stripe-2" width="3" height="3" patternUnits="userSpaceOnUse" patternTransform="rotate(45)">
        <rect width="1" height="3" transform="translate(0,0)" fill="#900C3F"></rect>
        <rect width="2" height="3" transform="translate(1,0)" fill="#581845"></rect>
      </pattern>
    </defs>
  </svg>

  <div class="main">


    <h1 style="padding-top:10px;color:#F69E00;margin-bottom:0px;">MASK FILTRATION</h1>
    <h1 style="font-size:16px;font-family:Roboto;margin-top:0px;padding-bottom:60px">How good are common materials?</h1>

    <p>
      The primary function of any mask is to filter particle contaminants out of air as it passes
      through the mask, which is relevant to preventing the spread of the COVID-19
      and other respiratory diseases. Filtration occurs as a result of several mechanisms, including
      <b>impaction</b>, <b>interception</b>, <b>diffusion</b>,
      and <b>electrostatic attraction</b>.
    </p>

    <div style="text-align:center;">
      <img src="imgs/01_schem.svg" style="max-width:700px;width:100%;padding-top:10px;"></img>
    </div>

    <p>
      Impaction tends to dominate for larger particles,
      while diffusion is most significant for smaller particles. Electrostatic charges
      in the mask, as are typically present in N95-compliant masks, tend to enhance
      particle filtration but also tend to hold up rather poorly when the mask
      is sanitized. For example, washing most N95-compliant masks with soap and water
      will significantly reduces their filtration properties.
    </p>

  </div>

  <div class="main">

    <h2>Filtration versus pressure drop</h2>

    <p>
      This first viz examines the filtration properties of common materials, using the data from
      <a href="https://arxiv.org/abs/2008.06001">Rogak et al</a>. In addition to filtration,
      this viz considers the effect of a second important property: <b>pressure drop</b>.
    </p>

    <p>
      Pressure drop denotes resistance. Lower pressure drops are preferable in that they
      make for a more breathable mask and result in less leakage around the mask.

      A good mask has a balance of both of these properties. The following plot considers
      these properties for some common materials. Uncertainties in this data are generally larger for low
      fitration efficiencies (negative filtration efficiencies occasionally reflect this; they
      are artifacts of the measurements and are not physical).
    </p>

    <p>
      Materials are coded according to their structure.

      For material codes, the first component denotes the material structure, such as <b>nW</b>
      for non-woven; followed by an optional <b>x*</b> code to
      denote if multiple layers were used during the test
      (e.g., <b>x2</b> for two layers of the material); and finally an optional code
      denoting if a treatment was applied to the mask (i.e., <b>HS</b> for
      heat treatment, <b>IPA</b> for isopropyl alcohol treatments, <b>WD</b>
      for laundering, and <b>SW</b> for washing with soap and water).
    </p>

    <p>
      In the plot below, dashed lines correspond to line of constant quality, using
      the natural number as a base ane pressures in kPa. A good (or high) quality denotes a
      hybrid of good filtration while maintaining a lower pressure drop. Masks with
      the highest quality in this study include N95-compliant and surgical masks.
      For more details on the precise interpretation of quality we refer the reader
      to <a href="https://arxiv.org/abs/2008.06001">Rogak et al.</a> and the references
      therein.
    </p>

    <h3>Legend</h3>
    <div id="my_legend"></div>

    <h3>Visualization controls</h3>

    <!-- Add a slider -->
    <div class="control">
      <b>Diameter selector</b>
      <input type="range" name="mySlider" id="mySlider" min="1" max="13" value="9" style="height:8px;" onchange="displayDiam(this.value);">
      <i>d</i><sub>a</sub> = <output id="da">2.756</output> microns
    </div>

    <div>
      <b>Material types</b>
      <input type="checkbox" class="cbMaterial" value="W" checked><label>Woven</label>
      | <input type="checkbox" class="cbMaterial" value="K" checked><label>Knit</label>
      | <input type="checkbox" class="cbMaterial" value="CP" checked><label>Cut pile</label>
      | <input type="checkbox" class="cbMaterial" value="nW" checked><label>Non-woven</label>
      | <input type="checkbox" class="cbMaterial" value="nWH" checked><label>Non-woven, Halyard</label>
      | <input type="checkbox" class="cbMaterial" value="ML" checked><label>Multi-layer</label>
    </div>

    <!-- Create a div where the graph will take place -->
    <div id="my_dataviz"></div>

    <script src="scripts/fvp.js"></script>

  </div>

  <div class="main">

    <h2>Size-resolved mask filtration</h2>

    <p>
      Not all particle sizes are filtered in the same way. For example, small particles
      tend to pass through masks more easily, resulting in lower filtration efficiencies.
      This second viz examines the size-resolved mask filtration data. Generally, points higher on
      the plot are preferred, through, these materials may result in an unreasonable pressure
      drops that make the mask uncomfortable to wear.
    </p>

    <p>
      Note that the curves all have a similar trend, where the filtration
      efficiency decreases as the particles get smaller (to the left).
      The most penetrating particle size (MPPS), that is, the minimum
      in these kinds of curves, typically occurs in the 50-500 nm range and
      is the focus of several other similar studies (cf. references in
      <a href="https://arxiv.org/abs/2008.06001">Rogak et al.</a>). Here we
      focus on the larger particles, which remain relevant for bioaerosol applications.
    </p>

    <p>
      In this plot, the black, dashed line indicates an
      estimate of the filtration expected for a multi-layered mask,
      which can include up to <b>three layers</b>, as selected using the
      dropdown boxes below.

      Estimates for multi-layered masks are only <i>approximate</i>, computed using
      the product of filtration efficiencies for individual layers.
      This also gives no indication of the feasibility of the different layers,
      as they do not have a standardized weight or pressure drop. We again refer
      the interested reader to
      <a href="https://arxiv.org/abs/2008.06001">Rogak et al.</a>
      for a more detailed discussion.
    </p>

    <p>
      Coloured lines indicate individual filter layers, which can be added,
      removed, or changed using the dropdown boxes. The colours themselves
      correspond to the material classes shown in the plot above (for example,
      yellow is for knitted materials).
    </p>

    <p>
      Note that some materials contribute very little to the filtration properties but
      may have other advantages, such as absorbing moisture inside the mask.

      We also note that the focus of this data was also on
      the <b>materials</b> themselves. As such, these curves do not consider
      leakage around the mask, which is another important feature in
      constructing an effective mask.
    </p>


    <div class="row">
      <div class="column">
        <p>
          <b>Layer 1: </b>
          <select id="selectCode">
            <option>None</option>
          </select>
        </p>

        <p>
          <b>Layer 2: </b>
          <select id="selectCode2">
            <option>None</option>
          </select>
        </p>

        <p>
          <b>Layer 3: </b>
          <select id="selectCode3">
            <option>None</option>
          </select>
        </p>


        <div style="padding-top:5px;">
          <b>Estimated weight: </b>
          <output id="pweight">-</output> g/cm<sup>2</sup>
        </div>
        <div style="padding-top:5px;padding-bottom:15px;">
          <b>Estimated pressure drop: </b>
          <output id="pdrop">-</output> Pa
        </div>
      </div>

      <div class="column" style="position:relative;">
        <img src="imgs/mask_none.svg" id='img_l1' width="120px;" style="position:relative;z-index:3;top:0px;left:0px;">
        <img src="imgs/mask_none.svg" id='img_l2' width="120px;" style="position:relative;z-index:2;top:35px;left:-124px;">
        <img src="imgs/mask_none.svg" id='img_l3' width="120px;" style="position:relative;z-index:1;top:70px;left:-248px;">
        <div id='txt_l1' style="position:relative;z-index:4;top:-40px;width:120px;left:0px;text-align:center">-</div>
        <div id='txt_l2' style="position:relative;z-index:4;top:-18px;width:120px;left:0px;text-align:center">-</div>
        <div id='txt_l3' style="position:relative;z-index:4;top:0px;width:120px;left:0px;text-align:center">-</div>
      </div>
    </div>


    <div id="pen_curve"></div>

  </div>

  <script src="scripts/curves.js"></script>

  <div class="footer" stlye="bottom:0px;">
    <div class="main" style="padding-top:0px;padding-bottom:0px;">

      <h4>Source data and citing this work</h4>

      <p>
        Source data for this viz is available in the supporting Github repository
        <a href="https://github.com/tsipkens/fmviz/blob/main/data/fm.csv">here</a>.
        This package is released under an <a href="LICENSE">GNU GPLv3 license</a>.
        This work was completed by researchers at the University of British Columbia.
      </p>

      <p style="padding-bottom:50px;">
        Consider citing this repository directly, as well as the corresponding paper:
        <a href="https://arxiv.org/abs/2008.06001"> S. N. Rogak, T. A. Sipkens, M. Guan,
          H. Nikookar, D. V. Figueroa, J. Wang.
          "Properties of materials considered for improvised masks." Submitted to
          <i>Aerosol Science and Technology</i></a>.
      </p>


    </div>
  </div>

</body>

</html>
